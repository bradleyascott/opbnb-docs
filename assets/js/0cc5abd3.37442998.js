"use strict";(self.webpackChunkopbnb_docs=self.webpackChunkopbnb_docs||[]).push([[6343],{3905:(t,e,n)=>{n.d(e,{Zo:()=>s,kt:()=>h});var r=n(67294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var l=r.createContext({}),p=function(t){var e=r.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},s=function(t){var e=p(t.components);return r.createElement(l.Provider,{value:e},t.children)},u="mdxType",f={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},d=r.forwardRef((function(t,e){var n=t.components,a=t.mdxType,o=t.originalType,l=t.parentName,s=c(t,["components","mdxType","originalType","parentName"]),u=p(n),d=a,h=u["".concat(l,".").concat(d)]||u[d]||f[d]||o;return n?r.createElement(h,i(i({ref:e},s),{},{components:n})):r.createElement(h,i({ref:e},s))}));function h(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var o=n.length,i=new Array(o);i[0]=d;var c={};for(var l in e)hasOwnProperty.call(e,l)&&(c[l]=e[l]);c.originalType=t,c[u]="string"==typeof t?t:a,i[1]=c;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},77008:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>c,toc:()=>p});var r=n(87462),a=(n(67294),n(3905));const o={sidebar_label:"Verify Smart Contracts with Hardhat and Truffle",description:"Guide to use the opBNBScan API to verify the smart contracts easily via Hardhat and Truffle."},i="Use opBNBScan to verify your contract via Hardhat and Truffle",c={unversionedId:"tutorials/opbnbscan-verify-hardhat-truffle",id:"tutorials/opbnbscan-verify-hardhat-truffle",title:"Use opBNBScan to verify your contract via Hardhat and Truffle",description:"Guide to use the opBNBScan API to verify the smart contracts easily via Hardhat and Truffle.",source:"@site/docs/tutorials/opbnbscan-verify-hardhat-truffle.md",sourceDirName:"tutorials",slug:"/tutorials/opbnbscan-verify-hardhat-truffle",permalink:"/opbnb-docs/docs/tutorials/opbnbscan-verify-hardhat-truffle",draft:!1,editUrl:"https://github.com/bnb-chain/opbnb-docs/blob/main/docs/tutorials/opbnbscan-verify-hardhat-truffle.md",tags:[],version:"current",frontMatter:{sidebar_label:"Verify Smart Contracts with Hardhat and Truffle",description:"Guide to use the opBNBScan API to verify the smart contracts easily via Hardhat and Truffle."},sidebar:"tutorials",previous:{title:"Create a Full Stack dapp",permalink:"/opbnb-docs/docs/tutorials/full-stack-dapp"}},l={},p=[{value:"<strong>Hardhat</strong>",id:"hardhat",level:2},{value:"<strong>Truffle</strong>",id:"truffle",level:2}],s={toc:p};function u(t){let{components:e,...n}=t;return(0,a.kt)("wrapper",(0,r.Z)({},s,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"use-opbnbscan-to-verify-your-contract-via-hardhat-and-truffle"},"Use opBNBScan to verify your contract via Hardhat and Truffle"),(0,a.kt)("p",null,"opBNBScan provides a convenient and user-friendly platform for developers to verify their smart contracts using popular developer tools like Truffle and Hardhat. Here are the step-by-step instructions to get started with opBNBScan's smart contract verification APIs."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Go to the ",(0,a.kt)("a",{parentName:"li",href:"http://nodereal.io"},"NodeReal")," portal and click the ",(0,a.kt)("strong",{parentName:"li"},"Login")," button."),(0,a.kt)("li",{parentName:"ol"},"Login with your github account or discord account."),(0,a.kt)("li",{parentName:"ol"},"And create your API key by clicking the ",(0,a.kt)("strong",{parentName:"li"},"create new key")," button."),(0,a.kt)("li",{parentName:"ol"},"Copy your API key to your clipboard and and use it as your key of smart verification contract APIs.")),(0,a.kt)("h2",{id:"hardhat"},(0,a.kt)("strong",{parentName:"h2"},"Hardhat")),(0,a.kt)("p",null,"You can use the ",(0,a.kt)("a",{parentName:"p",href:"https://hardhat.org/hardhat-runner/docs/guides/verifying"},"hardhat-verify")," plugin to verify your deployed smart contract. You can follow the steps in the hardhat document. Below is an example of how to configure your hardhat.config.js. Pay attention to the network's configuration settings, and replace the corresponding settings that meet your requirements."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'require("@nomicfoundation/hardhat-toolbox");\nrequire("@nomicfoundation/hardhat-verify");\n/** @type import(\'hardhat/config\').HardhatUserConfig */\n\nmodule.exports = {\n  solidity: "0.8.19", //replace your own solidity compiler version\n  networks: {\n    opbnb: {\n      url: "https://opbnb-testnet-rpc.bnbchain.org/",\n      chainId: 5611, // Replace with the correct chainId for the "opbnb" network\n      accounts: ["{{YOUR-PRIVATE-KEY}}"], // Add private keys or mnemonics of accounts to use\n      gasPrice: 20000000000,\n    },\n  },\n  etherscan: {\n    apiKey: {\n      opbnb: "{{YOUR-NODEREAL-API-KEY}}", //replace your nodereal API key\n    },\n\n    customChains: [\n      {\n        network: "opbnb",\n        chainId: 5611, // Replace with the correct chainId for the "opbnb" network\n        urls: {\n          apiURL:\n            "https://open-platform.nodereal.io/{{YOUR-NODEREAL-API-KEY}}/op-bnb-testnet/contract/",\n          browserURL: "https://testnet.opbnbscan.com/",\n        },\n      },\n    ],\n  },\n};\n')),(0,a.kt)("h2",{id:"truffle"},(0,a.kt)("strong",{parentName:"h2"},"Truffle")),(0,a.kt)("p",null,"You can also use truffle to verify your smart contract on opBNBScan."),(0,a.kt)("p",null,"Please make sure the truffle-plugin-verify is installed correctly, and in the plugin, add the 'truffle-plugin-verify'"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},'module.exports = {\n plugins: [\n  \'truffle-plugin-verify\'\n ],\n networks:\n {\n  development: {\n    host: "127.0.0.1", // Localhost (default: none)\n    port: 8545, // Standard port (default: none)\n    network_id: "*", // Any network (default: none)\n    },\n    dashboard: {\n    verify: {\n    apiUrl: \'https://open-platform.nodereal.io/{{YOUR-NODEREAL-API-KEY}}/op-bnb-testnet/contract/\',\n    apiKey: \'{{YOUR-NODEREAL-API-KEY}}\',\n    explorerUrl: \'https://testnet.opbnbscan.com/\',\n        },\n            host: "127.0.0.1",\n            port: 24012,\n            network_id: "*"\n        },\n },\n// Set default mocha options here, use special reporters, etc.\nmocha: {\n// timeout: 100000\n},\n// Configure your compilers\ncompilers: {\n    solc: {\n        version: "0.8.15", // Fetch exact version from solc-bin (default: truffle\'s version)\n    }\n},\n')),(0,a.kt)("p",null,"Make sure your smart contract is deployed first. I am using the dashboard to avoid saving your private credentials to your local machine."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npx truffle migrate \u2013network dashboard\n")),(0,a.kt)("p",null,"And then you can verify your smart contract by specifying your contract name"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npx truffle run verify {{Your-Contract-Name}} --network dashboard\n")),(0,a.kt)("p",null,"Then you can go to the ",(0,a.kt)("a",{parentName:"p",href:"https://testnet.opbnbscan.com/address/0x57996bA7FC3F0C61E7A949ac050b9E2437eA1972?p=1&tab=Contract"},"opBNBScan explorer")," to check if your smart contract has been verified."),(0,a.kt)("p",null,'For the mainnet contract verification, please change the following URLs:\nurl: "',(0,a.kt)("a",{parentName:"p",href:"https://opbnb-testnet-rpc.bnbchain.org/%22"},'https://opbnb-testnet-rpc.bnbchain.org/"'),' change to "',(0,a.kt)("a",{parentName:"p",href:"https://opbnb-mainnet-rpc.bnbchain.org/%22"},'https://opbnb-mainnet-rpc.bnbchain.org/"'),"\napiUrl: '",(0,a.kt)("a",{parentName:"p",href:"https://open-platform.nodereal.io/%7B%7BYOUR-NODEREAL-API-KEY%7D%7D/op-bnb-testnet/contract/'"},"https://open-platform.nodereal.io/{{YOUR-NODEREAL-API-KEY}}/op-bnb-testnet/contract/'")," change to '",(0,a.kt)("a",{parentName:"p",href:"https://open-platform.nodereal.io/%7B%7BYOUR-NODEREAL-API-KEY%7D%7D/op-bnb-mainnet/contract/'"},"https://open-platform.nodereal.io/{{YOUR-NODEREAL-API-KEY}}/op-bnb-mainnet/contract/'")))}u.isMDXComponent=!0}}]);